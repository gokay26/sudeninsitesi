<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Senin Ä°Ã§in Sude :)</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
<style>
  :root{--rose:#e11d48;--soft:#fff0f6;--card-shadow:0 10px 30px rgba(17,24,39,0.08)}
  *{box-sizing:border-box}html,body{height:100%;margin:0;font-family:Montserrat,system-ui,-apple-system,"Segoe UI",Roboto,Arial;color:#111;-webkit-font-smoothing:antialiased;overflow-x:hidden}
  
  /* VIDEO ARKAPLAN */
  #backgroundVideo {
    position: fixed;
    top: 0;
    left: 0;
    min-width: 100%;
    min-height: 100%;
    width: auto;
    height: auto;
    z-index: -1;
    opacity: 0.4;
  }

  .wrap{max-width:980px;margin:0 auto;padding:15px;position:relative;z-index:1}
  h1{margin:0;font-size:clamp(20px, 6vw, 28px);text-align:center;color:#d63384;text-shadow:0 2px 6px rgba(214,51,132,0.4);padding:0 10px;}
  p.lead{text-align:center;color:#6b7280;margin-top:6px;font-size:clamp(14px, 4vw, 16px);}
  .hero{margin-top:15px;background:linear-gradient(180deg,rgba(255,220,235,0.9),rgba(255,240,250,0.7));padding:clamp(15px, 4vw, 24px);border-radius:16px;box-shadow:var(--card-shadow);overflow:hidden;text-align:center}
  .photo{max-width:100%;height:auto;margin:0 auto 15px auto;border-radius:12px;box-shadow:var(--card-shadow)}
  .countdown{display:flex;justify-content:center;gap:10px;margin-top:15px;flex-wrap:wrap;}
  .time{background:white;padding:12px 15px;border-radius:12px;min-width:60px;box-shadow:0 6px 18px rgba(0,0,0,0.08);font-weight:700;font-size:clamp(16px, 5vw, 20px);text-align:center;}
  #message{margin-top:20px;font-size:clamp(20px, 8vw, 32px);font-weight:700;color:var(--rose);display:none;text-shadow:0 2px 6px rgba(0,0,0,0.15);padding:0 10px;}
  .game-area{margin-top:20px;padding:15px;border-radius:16px;background:white;box-shadow:var(--card-shadow);display:none}
  canvas{display:block;margin:0 auto;max-width:100%;border:2px solid #ffe6f0;border-radius:12px;}
  .scoreboard{margin-top:10px;text-align:center;font-weight:600;color:#444;font-size:clamp(14px, 4vw, 16px);}
  #confetti{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:9999}
  .btn{background:var(--rose);color:white;padding:12px 20px;border-radius:999px;border:none;cursor:pointer;font-weight:700;box-shadow:var(--card-shadow);margin-top:15px;transition:transform 0.2s;font-size:clamp(14px, 4vw, 16px);width:100%;max-width:250px;}
  .btn:hover{transform:translateY(-2px)}

  /* BUTONLAR - MOBIL DOSTU */
  #musicToggle{
    position:fixed;top:10px;left:10px;z-index:10000;
    background:var(--rose);color:white;border:none;
    padding:8px 12px;border-radius:999px;cursor:pointer;
    font-weight:700;box-shadow:var(--card-shadow);font-size:clamp(11px, 3vw, 12px);
  }
  #rainToggle{
    position:fixed;top:10px;left:90px;z-index:10000;
    background:#06b6d4;color:white;border:none;
    padding:8px 12px;border-radius:999px;cursor:pointer;
    font-weight:700;box-shadow:var(--card-shadow);font-size:clamp(11px, 3vw, 12px);
  }

  #fortuneBox {
    position: fixed;
    top: 50px;
    right: 10px;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    z-index: 10000;
  }
  #fortuneBtn {
    background: var(--rose);
    border: none;
    color: white;
    font-size: clamp(12px, 3vw, 14px);
    padding: 8px 12px;
    border-radius: 999px;
    cursor: pointer;
    box-shadow: var(--card-shadow);
    margin-bottom: 6px;
    white-space: nowrap;
  }
  #fortuneBtn:disabled {
    background: #ccc;
    cursor: not-allowed;
  }
  #fortuneMsg {
    max-width: min(200px, 70vw);
    background: white;
    color: #d63384;
    font-weight: 600;
    padding: 12px 16px;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.15);
    display: none;
    text-align: center;
    font-size: clamp(12px, 3vw, 14px);
    border: 2px solid #ffe6f0;
  }

  .game-selection {
    display: flex;
    gap: 8px;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 15px;
  }
  .game-btn {
    background: linear-gradient(45deg, #e11d48, #d63384);
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 20px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
    font-size: clamp(12px, 3vw, 14px);
    white-space: nowrap;
    flex: 1;
    min-width: 120px;
    max-width: 200px;
  }
  .game-btn:hover {
    transform: translateY(-2px);
  }

  #drawingGame {
    display: none;
    text-align: center;
  }
  .drawing-controls {
    display: flex;
    gap: 8px;
    justify-content: center;
    margin: 12px 0;
    flex-wrap: wrap;
  }
  .color-btn {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    border: 2px solid white;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    flex-shrink: 0;
  }
  .color-btn.active {
    border-color: #333;
    transform: scale(1.1);
  }

  #memoryGame {
    display: none;
  }
  .memory-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    margin: 15px auto;
    max-width: min(500px, 90vw);
  }
  .memory-card {
    width: 100%;
    aspect-ratio: 1;
    background: linear-gradient(45deg, #e11d48, #d63384);
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: clamp(16px, 5vw, 24px);
    color: transparent;
    transition: all 0.3s;
  }
  .memory-card.revealed {
    color: white;
    background: #4ade80;
    transform: rotateY(180deg);
  }
  .memory-card.matched {
    background: #94a3b8;
    cursor: default;
  }

  /* MOBIL OPTIMIZASYONLARI */
  @media (max-width: 480px) {
    .wrap { padding: 10px; }
    .hero { padding: 12px; margin-top: 10px; }
    .countdown { gap: 6px; }
    .time { min-width: 50px; padding: 10px 12px; font-size: 16px; }
    .game-selection { gap: 6px; }
    .game-btn { padding: 8px 12px; font-size: 12px; min-width: 100px; }
    .memory-grid { gap: 6px; }
    .drawing-controls { gap: 6px; }
    .color-btn { width: 24px; height: 24px; }
    #musicToggle, #rainToggle { padding: 6px 10px; font-size: 10px; }
    #musicToggle { left: 5px; }
    #rainToggle { left: 70px; }
    #fortuneBox { top: 45px; right: 5px; }
  }

  @media (max-width: 768px) and (min-width: 481px) {
    .wrap { padding: 15px; }
    #musicToggle { left: 15px; }
    #rainToggle { left: 100px; }
    #fortuneBox { top: 60px; right: 15px; }
  }

  .daily-limit {
    background: #ffeb3b;
    color: #333;
    border: 2px solid #ffc107;
  }

  /* CANVAS BOYUTLARI MOBIL ICIN */
  #gameCanvas {
    width: 100% !important;
    height: 200px !important;
    max-width: 600px;
  }
  
  #drawCanvas {
    width: 100% !important;
    height: 300px !important;
    max-width: 600px;
  }
</style>
</head>
<body>
<!-- VIDEO ARKAPLAN -->
<video id="backgroundVideo" autoplay muted loop playsinline>
  <source src="rain-video.mp4" type="video/mp4">
</video>

<button id="musicToggle">MÃ¼ziÄŸi AÃ§</button>
<button id="rainToggle">YaÄŸmur: AÃ§Ä±k</button>
<div id="fortuneBox">
  <button id="fortuneBtn" title="Sude bugÃ¼n nasÄ±l hissedecek?">ðŸ”® BugÃ¼nkÃ¼ FalÄ±n</button>
  <div id="fortuneMsg"></div>
</div>

<canvas id="confetti"></canvas>
<div class="wrap">
  <h1>Senin Ä°Ã§in Sude :)</h1>
  <p class="lead">Geri sayÄ±mÄ± bekleee ðŸ’•</p>
  <div class="hero">
    <img src="photo1.png" alt="Sude" class="photo"/>
    <div class="countdown">
      <div class="time" id="cd-secs">10</div>
    </div>
    <div id="message">Ä°yi ki varsÄ±n Sude ðŸŒ¸</div>
    
    <div class="game-selection">
      <button class="game-btn" onclick="startFlowerGame()">ðŸŒ¸ Ã‡iÃ§ek Toplama</button>
      <button class="game-btn" onclick="startDrawingGame()">ðŸŽ¨ TatlÄ± Ã‡izimler</button>
      <button class="game-btn" onclick="startMemoryGame()">ðŸ§  B12 Tazeleyici</button>
    </div>
  </div>

  <!-- Flower Game -->
  <div class="game-area" id="flowerGame">
    <p style="text-align:center;color:#d63384;font-weight:700;margin-bottom:10px;font-size:clamp(14px, 4vw, 16px);">Ã‡iÃ§eklere tÄ±kla! ðŸŒ¸ (Maksimum 3 kaÃ§Ä±rma hakkÄ±n var!)</p>
    <canvas id="gameCanvas" width="600" height="300"></canvas>
    <div class="scoreboard">
      Toplanan Ã‡iÃ§ek: <span id="score">0</span> / <span id="target">10</span> | 
      KaÃ§Ä±rÄ±lan: <span id="missed">0</span> / 3
    </div>
    <div style="text-align:center;">
      <button class="btn" onclick="resetFlowerGame()" style="display:inline-block;width:auto;padding:10px 20px;">Yeniden BaÅŸla</button>
    </div>
  </div>

  <!-- Drawing Game -->
  <div class="game-area" id="drawingGame">
    <p style="text-align:center;color:#d63384;font-weight:700;margin-bottom:10px;font-size:clamp(14px, 4vw, 16px);">Haydi gÃ¼zel ÅŸeyler Ã§iz! ðŸŽ¨</p>
    <canvas id="drawCanvas" width="600" height="400"></canvas>
    <div class="drawing-controls">
      <button class="color-btn active" style="background:#e11d48" onclick="setColor('#e11d48')"></button>
      <button class="color-btn" style="background:#d63384" onclick="setColor('#d63384')"></button>
      <button class="color-btn" style="background:#ec4899" onclick="setColor('#ec4899')"></button>
      <button class="color-btn" style="background:#8b5cf6" onclick="setColor('#8b5cf6')"></button>
      <button class="color-btn" style="background:#06b6d4" onclick="setColor('#06b6d4')"></button>
      <button class="color-btn" style="background:#10b981" onclick="setColor('#10b981')"></button>
      <button class="color-btn" style="background:#000000" onclick="setColor('#000000')"></button>
      <button class="btn" onclick="clearCanvas()" style="margin:0;padding:6px 12px;font-size:12px;width:auto;">Temizle</button>
    </div>
    <p style="color:#6b7280;font-size:clamp(12px, 3vw, 14px);margin-top:10px;text-align:center;">Fareyi/tuÅŸu basÄ±lÄ± tutarak Ã§izim yapabilirsin</p>
  </div>

  <!-- Memory Game -->
  <div class="game-area" id="memoryGame">
    <p style="text-align:center;color:#d63384;font-weight:700;margin-bottom:10px;font-size:clamp(14px, 4vw, 16px);">B12 vitaminin tazelensin! ðŸ§ </p>
    <div class="memory-grid" id="memoryGrid"></div>
    <div class="scoreboard">Hamle: <span id="moves">0</span></div>
    <div style="text-align:center;">
      <button class="btn" onclick="resetMemoryGame()" style="display:inline-block;width:auto;padding:10px 20px;">Yeniden BaÅŸla</button>
    </div>
  </div>
</div>

<script>
// MÃ¼zik
const audio = new Audio('music.mp3');
audio.loop = true;
let musicOn = false;

// YaÄŸmur sesi
const rainAudio = new Audio('rain-sound.mp3');
rainAudio.loop = true;
rainAudio.volume = 0.2;

let rainOn = true;

// YaÄŸmur kontrolÃ¼
document.getElementById('rainToggle').addEventListener('click', () => {
  const rainVideo = document.getElementById('backgroundVideo');
  const rainBtn = document.getElementById('rainToggle');
  
  if (rainOn) {
    rainVideo.style.display = 'none';
    rainAudio.pause();
    rainBtn.textContent = 'YaÄŸmur: KapalÄ±';
    rainBtn.style.background = '#6b7280';
  } else {
    rainVideo.style.display = 'block';
    rainAudio.play();
    rainBtn.textContent = 'YaÄŸmur: AÃ§Ä±k';
    rainBtn.style.background = '#06b6d4';
  }
  rainOn = !rainOn;
});

// MÃ¼zik kontrolÃ¼
document.getElementById('musicToggle').addEventListener('click', () => {
  if (!musicOn) {
    audio.play().then(() => {
      musicOn = true;
      document.getElementById('musicToggle').innerText = 'MÃ¼ziÄŸi Kapat';
    }).catch(() => alert('MÃ¼zik iÃ§in butona tÄ±klayÄ±n.'));
  } else {
    audio.pause();
    musicOn = false;
    document.getElementById('musicToggle').innerText = 'MÃ¼ziÄŸi AÃ§';
  }
});

// Geri sayÄ±m 10 saniye
let remaining = 10;
const cdSecs = document.getElementById('cd-secs');
function updateClock(){
  cdSecs.innerText = String(remaining).padStart(2,'0');
  if(remaining <= 0){ 
    clearInterval(clockInterval); 
    reveal(); 
  }
  remaining--;
}
const clockInterval = setInterval(updateClock, 1000);
updateClock();

function reveal(){
  document.getElementById('message').style.display='block';
  spawnConfetti(window.innerWidth/2, window.innerHeight/3, 150);
}

// Confetti
const confetti = document.getElementById('confetti');
const cctx = confetti.getContext('2d');
function resizeConf(){ confetti.width = innerWidth; confetti.height = innerHeight; }
addEventListener('resize', resizeConf); resizeConf();
let parts = [];
function spawnConfetti(x,y,count=80){
  for(let i=0;i<count;i++){
    parts.push({
      x:x+(Math.random()*60-30), y:y+(Math.random()*60-30),
      vx:Math.random()*6-3, vy:Math.random()*-8-1, size:Math.random()*7+3,
      life:Math.random()*80+60, color:`hsl(${Math.random()*360},70%,60%)`
    });
  }
}
function confStep(){
  cctx.clearRect(0,0,confetti.width,confetti.height);
  for(let i=parts.length-1;i>=0;i--){
    const p = parts[i];
    p.vy += 0.2; p.x += p.vx; p.y += p.vy; p.life -=1;
    cctx.globalAlpha = Math.max(p.life/120,0);
    cctx.fillStyle = p.color; cctx.beginPath();
    cctx.ellipse(p.x,p.y,p.size,p.size*0.7,0,0,Math.PI*2); cctx.fill();
    if(p.life<=0) parts.splice(i,1);
  }
  requestAnimationFrame(confStep);
}
confStep();

// Fal sistemi
const fortunes = [
  "BugÃ¼n enerjinle herkesi bÃ¼yÃ¼leyeceksin âœ¨",
  "Kalbin sÄ±cacÄ±k, gÃ¼lÃ¼msemen Ä±ÅŸÄ±l Ä±ÅŸÄ±l olacak ðŸŒŸ",
  "Harika bir sÃ¼rpriz seni bekliyor! ðŸŽ",
  "BugÃ¼n her ÅŸey istediÄŸin gibi gidecek ðŸ’«",
  "Sen bugÃ¼n ekstra tatlÄ± gÃ¶rÃ¼nÃ¼yorsun ðŸ¬",
  "Kocaman bir gÃ¼lÃ¼mseme ile tÃ¼m gÃ¼nÃ¼ aydÄ±nlat â˜€ï¸",
  "Kalbinin gÃ¼zelliÄŸi etrafÄ±na mutluluk saÃ§Ä±yor ðŸ’–"
];

function getDailyFortune() {
  const today = new Date().toDateString();
  const lastFortune = localStorage.getItem('lastFortuneDate');
  const fortuneBtn = document.getElementById('fortuneBtn');
  const fortuneMsg = document.getElementById('fortuneMsg');

  if (lastFortune === today) {
    fortuneMsg.textContent = "BugÃ¼nlÃ¼k fal hakkÄ±nÄ± kullandÄ±n! ðŸ’« YarÄ±n yeni bir falÄ±n olacak!";
    fortuneMsg.style.display = 'block';
    fortuneMsg.className = 'daily-limit';
    fortuneBtn.disabled = true;
    fortuneBtn.style.background = '#ccc';
    return;
  }

  const randomFortune = fortunes[Math.floor(Math.random() * fortunes.length)];
  fortuneMsg.textContent = randomFortune;
  fortuneMsg.style.display = 'block';
  fortuneMsg.className = '';
  fortuneBtn.disabled = true;
  fortuneBtn.style.background = '#ccc';
  
  localStorage.setItem('lastFortuneDate', today);
  spawnConfetti(window.innerWidth/2, window.innerHeight/2, 30);
}

document.getElementById('fortuneBtn').addEventListener('click', getDailyFortune);

window.addEventListener('load', () => {
  const today = new Date().toDateString();
  const lastFortune = localStorage.getItem('lastFortuneDate');
  const fortuneBtn = document.getElementById('fortuneBtn');
  
  if (lastFortune === today) {
    fortuneBtn.disabled = true;
    fortuneBtn.style.background = '#ccc';
  }
});

// Ã‡Ä°Ã‡EK OYUNU - MOBIL UYUMLU
let flowerGameRunning = false;
let flowers = [], score = 0, target = 10, missedFlowers = 0;
let flowerInterval, spawnInterval;

function stopFlowerGame() {
  flowerGameRunning = false;
  if (flowerInterval) cancelAnimationFrame(flowerInterval);
  if (spawnInterval) clearTimeout(spawnInterval);
  flowers = [];
}

function resetFlowerGame() {
  stopFlowerGame();
  startFlowerGame();
}

function startFlowerGame() {
  hideAllGames();
  document.getElementById('flowerGame').style.display = 'block';
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');
  
  // Canvas boyutunu mobil iÃ§in ayarla
  const rect = canvas.getBoundingClientRect();
  canvas.width = rect.width;
  canvas.height = rect.height;
  
  // Oyunu sÄ±fÄ±rla
  flowers = []; 
  score = 0; 
  missedFlowers = 0;
  document.getElementById('score').innerText = score;
  document.getElementById('missed').innerText = missedFlowers;
  flowerGameRunning = true;
  
  function updateGame(){
    if(!flowerGameRunning) return;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for(let i=flowers.length-1;i>=0;i--){
      const f = flowers[i];
      f.y += f.vy;
      ctx.fillStyle = `hsl(${f.hue},70%,60%)`;
      ctx.beginPath();
      ctx.arc(f.x, f.y, f.size, 0, Math.PI*2);
      ctx.fill();
      
      if(f.y > canvas.height + 40) {
        flowers.splice(i,1);
        missedFlowers++;
        document.getElementById('missed').innerText = missedFlowers;
        
        if(missedFlowers >= 3) {
          stopFlowerGame();
          setTimeout(() => alert('ÃœzgÃ¼nÃ¼m! 3 Ã§iÃ§ek kaÃ§Ä±rdÄ±n. Yeniden dene! ðŸŒ¸'), 300);
        }
      }
    }
    flowerInterval = requestAnimationFrame(updateGame);
  }

  function spawnFlower(){
    if(!flowerGameRunning) return;
    flowers.push({
      x: Math.random()*(canvas.width-40)+20,
      y: -20,
      vy: 1 + Math.random()*1.5,
      size: Math.min(18 + Math.random()*8, canvas.width/20),
      hue: 250 + Math.random()*80
    });
  }

  function spawnLoop(){
    if(!flowerGameRunning) return;
    spawnFlower();
    spawnInterval = setTimeout(spawnLoop, 800);
  }

  // Mobil dokunmatik destek
  canvas.ontouchstart = canvas.onclick = (ev)=>{
    if(!flowerGameRunning) return;
    const rect = canvas.getBoundingClientRect(); 
    const x = (ev.clientX || ev.touches[0].clientX) - rect.left; 
    const y = (ev.clientY || ev.touches[0].clientY) - rect.top;
    for(let i=flowers.length-1;i>=0;i--){
      const f = flowers[i];
      if(Math.hypot(f.x - x, f.y - y) < f.size){
        flowers.splice(i,1);
        score++;
        document.getElementById('score').innerText = score;
        spawnConfetti(x+rect.left, y+rect.top, 20);
        if(score >= target){
          stopFlowerGame();
          setTimeout(() => alert('nayss kÄ±zÄ±m sanaa ðŸŒ¸'), 300);
        }
        break;
      }
    }
  };

  updateGame();
  spawnLoop();
}

// DiÄŸer oyun kodlarÄ± aynÄ±...
let currentColor = '#e11d48';
let isDrawing = false;

function startDrawingGame() {
  hideAllGames();
  document.getElementById('drawingGame').style.display = 'block';
  
  const canvas = document.getElementById('drawCanvas');
  const ctx = canvas.getContext('2d');
  
  // Canvas boyutunu ayarla
  const rect = canvas.getBoundingClientRect();
  canvas.width = rect.width;
  canvas.height = rect.height;
  
  ctx.fillStyle = '#fff0f6';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  
  // Mobil dokunmatik destek
  canvas.ontouchstart = (e) => {
    e.preventDefault();
    startDrawing(e.touches[0]);
  };
  canvas.ontouchmove = (e) => {
    e.preventDefault();
    draw(e.touches[0]);
  };
  canvas.ontouchend = stopDrawing;
  
  // Mause desteÄŸi
  canvas.onmousedown = startDrawing;
  canvas.onmousemove = draw;
  canvas.onmouseup = stopDrawing;
  canvas.onmouseout = stopDrawing;
}

function startDrawing(e) {
  isDrawing = true;
  draw(e);
}

function draw(e) {
  if (!isDrawing) return;
  
  const canvas = document.getElementById('drawCanvas');
  const ctx = canvas.getContext('2d');
  const rect = canvas.getBoundingClientRect();
  
  const x = (e.clientX || e.touches[0].clientX) - rect.left;
  const y = (e.clientY || e.touches[0].clientY) - rect.top;
  
  ctx.lineJoin = 'round';
  ctx.lineCap = 'round';
  ctx.lineWidth = 3;
  ctx.strokeStyle = currentColor;
  
  ctx.lineTo(x, y);
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(x, y);
}

function stopDrawing() {
  isDrawing = false;
  const ctx = document.getElementById('drawCanvas').getContext('2d');
  ctx.beginPath();
}

function setColor(color) {
  currentColor = color;
  document.querySelectorAll('.color-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  event.target.classList.add('active');
}

function clearCanvas() {
  const canvas = document.getElementById('drawCanvas');
  const ctx = canvas.getContext('2d');
  ctx.fillStyle = '#fff0f6';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
}

let memoryCards = [];
let flippedCards = [];
let moves = 0;
let matches = 0;

const memoryEmojis = ['ðŸŒ¸', 'ðŸŒ¹', 'ðŸ’', 'ðŸŒº', 'ðŸŒ·', 'ðŸŒ¼', 'ðŸ’–', 'ðŸŒŸ'];

function startMemoryGame() {
  hideAllGames();
  document.getElementById('memoryGame').style.display = 'block';
  resetMemoryGame();
}

function resetMemoryGame() {
  const grid = document.getElementById('memoryGrid');
  grid.innerHTML = '';
  memoryCards = [];
  flippedCards = [];
  moves = 0;
  matches = 0;
  document.getElementById('moves').innerText = moves;
  
  let cards = [];
  memoryEmojis.forEach(emoji => {
    cards.push(emoji, emoji);
  });
  
  cards.sort(() => Math.random() - 0.5);
  
  cards.forEach((emoji, index) => {
    const card = document.createElement('div');
    card.className = 'memory-card';
    card.dataset.index = index;
    card.dataset.emoji = emoji;
    card.onclick = () => flipCard(card);
    grid.appendChild(card);
    memoryCards.push(card);
  });
}

function flipCard(card) {
  if(flippedCards.length >= 2 || card.classList.contains('revealed') || card.classList.contains('matched')) return;
  
  card.classList.add('revealed');
  card.textContent = card.dataset.emoji;
  flippedCards.push(card);
  
  if(flippedCards.length === 2) {
    moves++;
    document.getElementById('moves').innerText = moves;
    
    const [card1, card2] = flippedCards;
    if(card1.dataset.emoji === card2.dataset.emoji) {
      card1.classList.add('matched');
      card2.classList.add('matched');
      matches++;
      spawnConfetti(card1.offsetLeft, card1.offsetTop, 10);
      if(matches === memoryEmojis.length) {
        setTimeout(() => alert(`Tebrikler! B12'n tazelendi! ðŸ§  ${moves} hamlede tamamladÄ±n!`), 500);
      }
    } else {
      setTimeout(() => {
        card1.classList.remove('revealed');
        card2.classList.remove('revealed');
        card1.textContent = '';
        card2.textContent = '';
      }, 1000);
    }
    setTimeout(() => flippedCards = [], 1000);
  }
}

function hideAllGames() {
  // Ã‡iÃ§ek oyununu durdur
  stopFlowerGame();
  
  document.getElementById('flowerGame').style.display = 'none';
  document.getElementById('drawingGame').style.display = 'none';
  document.getElementById('memoryGame').style.display = 'none';
}

hideAllGames();

// Video kontrol
document.getElementById('backgroundVideo').addEventListener('loadeddata', function() {
  console.log('âœ… Video arkaplan yÃ¼klendi!');
});

// Sayfa boyutu deÄŸiÅŸince canvas'larÄ± gÃ¼ncelle
window.addEventListener('resize', function() {
  const flowerCanvas = document.getElementById('gameCanvas');
  const drawCanvas = document.getElementById('drawCanvas');
  
  if (flowerCanvas) {
    const rect = flowerCanvas.getBoundingClientRect();
    flowerCanvas.width = rect.width;
    flowerCanvas.height = rect.height;
  }
  
  if (drawCanvas) {
    const rect = drawCanvas.getBoundingClientRect();
    drawCanvas.width = rect.width;
    drawCanvas.height = rect.height;
  }
});
</script>
</body>
</html>
